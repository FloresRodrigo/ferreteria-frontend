<main class="d-flex justify-content-center align-items-center py-5">
  <div class="form shadow-sm p-4 p-md-5 rounded bg-white border-0 form-card">
    <h3 class="text-center mb-4 fw-bold text-primary">Establecer contraseña</h3>
    <div class="alert alert-info small text-center mb-4">
      <strong>Importante:</strong><br>
      Si no establecés una contraseña, solo vas a poder iniciar sesión mediante Google.<br>
      Al crear una contraseña, también podrás iniciar sesión con tu email o username cuando quieras.<br><br>
      <strong>Nota:</strong> Al establecer una contraseña, tu sesión se cerrará y deberás iniciar sesión nuevamente.
    </div>
    <form #f="ngForm" (ngSubmit)="setPassword()">
      <div class="input mb-4">
        <label class="form-label fw-semibold" for="password">Nueva contraseña</label>
        <input [(ngModel)]="password" name="password" id="password" #passModel="ngModel" type="password"
          class="form-control" required minlength="8" maxlength="20" placeholder="Contraseña segura"
          autocomplete="new-password" />
        <div class="text-danger small mt-1" *ngIf="passModel.invalid && passModel.touched">
          La contraseña debe tener entre 8 y 20 caracteres
        </div>
      </div>
      <button type="submit" class="btn btn-primary w-100 py-2 fw-semibold shadow-sm rounded-pill"
        [disabled]="loading() || f.invalid">
        {{ loading() ? "Guardando..." : "Guardar contraseña" }}
      </button>
      <p *ngIf="msg() as m" class="text-danger text-center small mt-3 mb-0 fw-semibold">
        {{ m }}
      </p>
    </form>
  </div>
</main>